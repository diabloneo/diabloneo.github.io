<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>通过demo学习OpenStack开发所需的基础知识 -- 软件包管理</title>
  <meta name="description" content="为什么写这个系列OpenStack是目前我所知的最大最复杂的基于Python项目。整个OpenStack项目包含了数十个主要的子项目，每个子项目所用到的库也不尽相同。因此，对于Python初学者和未接触过OpenStack项目的人来说，入门的难度相当大。">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://diabloneo.github.io//2015/06/14/learn-openstack-dev-skill-by-demo-01.html">
  <link rel="alternate" type="application/rss+xml" title="Coffee, Coke and Code" href="http://diabloneo.github.io//feed.xml">
</head>


  <body>
    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Coffee, Coke and Code</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
        <a href="/feed.xml">RSS</a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">通过demo学习OpenStack开发所需的基础知识 -- 软件包管理</h1>
    <p class="post-meta"><time datetime="2015-06-14T00:00:00+08:00" itemprop="datePublished">Jun 14, 2015</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1 id="为什么写这个系列">为什么写这个系列</h1>
<p>OpenStack是目前我所知的最大最复杂的基于Python项目。整个OpenStack项目包含了数十个主要的子项目，每个子项目所用到的库也不尽相同。因此，对于Python初学者和未接触过OpenStack项目的人来说，入门的难度相当大。<!--more--></p>

<p>幸运的是，OpenStack中的项目有很多共同点。比如，它们有相同的代码库结构，都尽可能是用同样的库，配置文件和单元测试的规范也都几乎一样。因此，通过学习这些共通的部分，我们就可以快速掌握多个OpenStack项目。但是，万事开头难，学习这些基础知识总是痛苦的。不过，学习的难点并不在于这些知识点本身有多难理解，而是这些基础知识的应用场景和应用效果对初学者来说都是模糊的。这个系列文章的目的就是帮助有需要的人了解OpenStack中一些常见的知识点。理解过程就是通过动手做一个web application demo来实现的。</p>

<p>这个系列文章会涉及到以下的知识点：</p>

<ul>
  <li>包管理和pbr</li>
  <li>WSGI, RESTful Service和Pecan框架</li>
  <li>eventlet</li>
  <li>SQLAlchymy</li>
  <li>单元测试</li>
</ul>

<p>下面的知识点是不会专门讲的，如果有遇到不会的请自学：</p>

<ul>
  <li>git</li>
</ul>

<h1 id="软件包管理">软件包管理</h1>

<p>软件包管理是每个OpenStack项目的基础，其目的是用来将项目代码打包成源码包或者二进制包进行分发。一个项目的代码可能会被打包放到PyPI上，这样你可以通过<strong>pip</strong>命令安装这个包；也可能会被打包放到项目的软件仓库里，这样你可以通过<strong>apt-get install</strong>或者<strong>yum install</strong>来安装这个软件包。</p>

<p>不幸的是，Python在软件包管理十分混乱，至少历史上十分混乱。原因有两个：一是标准库提供的软件包管理功能十分弱，二是官方没有提供统一的软件包管理标准。对于这个领域，我曾经也是混乱的，只知道使用<strong>easy_install</strong>和<strong>pip</strong>来安装软件包。不过自从看了<em>The Hacker’s Guide to Python</em>（《Python高手之路》）之后，算是知道点来龙去脉。</p>

<p>##软件打包工具的历史
这里我会讲一下我知道的Python的软件打包工具的历史，我们按照历史顺序来叙述。</p>

<h3 id="distutils-before-2000">distutils (before 2000)</h3>
<p>disutils自从1998年起就是Python标准库的一部分了，不过它在2000年就停止了开发。disutils是最早的Python打包工具和标准，也奠定了对Python软件进行打包的一个基本工作方式：<em>使用setup.py文件</em>。来看一个setup.py文件的例子：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">disutils.core</span> <span class="kn">import</span> <span class="n">setup</span>

<span class="n">setup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'webdemo'</span><span class="p">,</span>
      <span class="n">description</span><span class="o">=</span><span class="s">'A simple web demo.'</span><span class="p">,</span>
      <span class="n">author</span><span class="o">=</span><span class="s">'author name'</span><span class="p">,</span>
      <span class="n">author_email</span><span class="o">=</span><span class="s">'author_name@example.com'</span>
      <span class="n">url</span><span class="o">=</span><span class="s">'http://example.com'</span><span class="p">,</span>
      <span class="n">packages</span><span class="o">=</span><span class="p">[</span><span class="s">'webdemo'</span><span class="p">])</span>
</code></pre>
</div>

<p><em>setup.py</em>文件是放在项目根目录下的：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>➜ ~/programming/python/webdemo git:(master) ✗ $ ls
LICENSE  README.md  setup.py  webdemo 
</code></pre>
</div>

<p>然后你就可以使用命令<code class="highlighter-rouge">python setup.py build</code>来编译包，可以使用<code class="highlighter-rouge">python setup.py install</code>来安装这个项目。如果需要帮助，可以通过<code class="highlighter-rouge">python setup.py --help-commands</code>来查看支持的命令。</p>

<h3 id="setuptools">setuptools</h3>
<p>disutils停止开发后，setuptools成了继任者。setuptools提供了很多高级功能，包括自动依赖处理、Egg分发格式以及easy_install命令。setuptools的使用方式和disutils差不多，也是以一个setup函数作为入口，只不过该函数来自于setuptools模块，而且支持更多的参数，比如classifiers, setup_requires等，参数更多意味着功能更多。</p>

<p>后来有一段时间setuptools项目发展开始变得缓慢了，就有人从setuptools项目创建了<strong>distribute</strong>项目。distribute开始支持Python 3等新特性。不过一段时间后，distribute项目又和setuptools项目合并了（2013年3月）。因此，现在已经不存在distribute项目了。</p>

<p>到目前为止，setuptools还是使用最多的打包工具，而且开发很活跃，2015年6月刚刚发布了18.0版本。setuptools项目的文档在：<a href="http://pythonhosted.org/setuptools/">http://pythonhosted.org/setuptools/</a>。OpenStack目前也是使用setuptools库来执行打包操作，我们下面会详细点介绍setuptools工具。</p>

<h3 id="disutils2">disutils2</h3>

<p>在setuptools项目发展的过程中，有一个叫disutils2的项目也在并行开发中，其目的是全面取代Python标准库中的distutils。disutils2的最大改进是将setup函数的参数单独放到一个setup.cfg的文件中（这些成为包的元数据）。不够disutils2这个项目缺点很多，而且没有功能上还不如setuptools项目，所以在2012年的时候，这个项目被废弃了。</p>

<h3 id="distlib">distlib</h3>

<p>这个是一个新的打包工具，目标也是取代disutils。不过这个项目的开发进展也不快，到2015年才发布了0.2.0版本。目前还未能并入到Python的标准库中。不过可以保持关注。项目文档地址：<a href="https://readthedocs.org/projects/distlib/">https://readthedocs.org/projects/distlib/</a></p>

<h2 id="在openstack中使用打包工具">在OpenStack中使用打包工具</h2>

<p>前面已经提到了，OpenStack也是使用setuptools工具来进行打包，不过为了满足OpenStack项目的需求，引入了一个辅助工具<strong>pbr</strong>来配合setuptools完成打包工作。</p>

<h3 id="pbr-python-build-reasonableness">pbr (Python Build Reasonableness)</h3>

<p>pbr是一个setuptools的扩展工具，被开发出来的主要目的是为了方便使用setuptools，其项目文档地址也在OpenStack官网内：<a href="http://docs.openstack.org/developer/pbr/">http://docs.openstack.org/developer/pbr/</a>。</p>

<p>先说一下pbr如何使用：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import setuptools

setuptools.setup(setup_requires=['pbr'], pbr=True)
</code></pre>
</div>

<p>按照上面的方式就可以配置setuptools工具使用pbr来协助完成打包工作。这里的<em>setup_requires</em>参数意思是setup函数在执行之前需要依赖的包的列表。这里的依赖的包的功能可以理解为生成setup的实际参数。你可以看到，当使用pbr的时候，setup函数只有两个参数，然而实际上<em>setuptools.setup</em>函数实际上是<em>disutils.core.setup</em>函数，会接收任何参数，这些参数可以通过在调用时指定，也可以通过所依赖的扩展来生成（比如pbr）。</p>

<p>那么OpenStack社区为啥要开发pbr呢？因为setuptools库使用起来还是有点麻烦，参数太多，而且直接通过指定setup函数的参数的方法实在太不方便了。pbr就是为了方便而生的，它带了了如下的改进：</p>

<ol>
  <li>使用setup.cfg文件来提供包的元数据。这个是从disutils2学来的。</li>
  <li>基于requirements.txt文件来实现自动依赖安装。requirements.txt文件中包含了一个项目所要依赖的库，这个文件的格式是和pip兼容的。</li>
  <li>利用Sphinx实现文档自动化。</li>
  <li>基于<em>git history</em>自动生成AUTHORS和ChangeLog文件。</li>
  <li>针对git自动创建文件列表。</li>
  <li>基于<em>git tags</em>的版本号管理。</li>
</ol>

<h4 id="pbr的版本推导">pbr的版本推导</h4>

<p>这里重点说明一下<em>基于git tag的版本号管理</em>这个功能。当使用pbr的时候，版本号有两种方式：<strong>postversioning</strong>和<strong>preversioning</strong>，postversioning是默认方式。要是用preversioning的方式，则需要设置setup.cfg文件中的<em>[metadata]段的version字段的值</em>。无论采用哪种方式，版本号都是从git的历史推理得到的。pbr使用的版本号标准是<a href="http://docs.openstack.org/developer/pbr/semver.html">Linux/Python Compatible Semantic Versioning 3.0.0</a>，简单的说就是下面这个标准：</p>

<blockquote>
  <p>Given a version number MAJOR.MINOR.PATCH, increment the:</p>

  <ol>
    <li>MAJOR version when you make incompatible API changes,</li>
    <li>MINOR version when you add functionality in a backwards-compatible manner,</li>
    <li>and PATCH version when you make backwards-compatible bug fixes.</li>
  </ol>
</blockquote>

<p>pbr的版本推导按照如下的步骤进行（注意，最终版本号才是软件包的版本号）：</p>

<ol>
  <li>如果设置version的值为一个给定的版本号，且这个版本号刚好对应一个tag，则这个值就是最终版本号（注意，这里只有签名的tag才有效）。</li>
  <li>如果不是上面情况，则pbr会找到最近的一个tag，然后为其MINOR值加1得到一个比它大的最小版本号（注意，这个还不是最终版本号）。</li>
  <li>然后pbr会从最近的一个tag开始遍历所有的git commit，并检查每个提交的commit message，在commit message中查找<strong>Sem-Ver:</strong>这样的行：</li>
</ol>

<ul>
  <li>如果<em>Sem-Ver</em>的值是<em>bugfix</em>，则会增加版本号中PATCH部分的值。</li>
  <li>如果<em>Sem-Ver</em>的值是<em>feature</em>或者<em>deprecation</em>，则会增加版本号中MINOR部分的值。</li>
  <li>如果<em>Sem-Ver</em>的值是<em>api-break</em>，则会增加版本号中MAJOR部分的值。</li>
  <li>如果<em>Sem-Ver</em>行不存在，则认为值是<em>bugfix</em>。</li>
  <li>如果<em>Sem-Ver</em>的值不在上面列出的范围内，则会给出警告。</li>
</ul>

<ol>
  <li>如果使用的是postversioning的方式，也就是setup.cfg中不指定version的值，则pbr会使用规则3推导出来的值作为目标版本号（只是目标版本号，不是最终版本号）。</li>
  <li>如果使用的是preversioning的方式，也就是setup.cfg中指定了version的值（而且不符合规则1），则会检查指定的version是否高于规则3推导出来的版本号，如果没有，则会抛出异常，如果有，则使用指定的版本号作为目标版本号。</li>
  <li>在得到目标版本号之后，开始计算开发版本号。开发版本号的形式如下：<strong>MAJOR.MINOR.PATCH.devN</strong>。这里要计算的是<strong>devN</strong>中的<strong>N</strong>。这个值等于从最近的git tag开始的提交数量。计算完开发版本号之后，就得到了最终版本号。</li>
</ol>

<p>总的来说，从上面的规则计算出来的版本号只有两种形式，一种是发布版本号（对应到某个tag），另一种是开发版本号。<strong>注意：pbr要求tag都是要签名的</strong>，也就是打tag时要使用<code class="highlighter-rouge">git tag -a -s X.Y.Z</code>的形式。</p>

<h3 id="setupcfg和requirementstxt">setup.cfg和requirements.txt</h3>

<h4 id="setupcfg">setup.cfg</h4>

<p>由于OpenStack项目都使用了setuptools和pbr来执行打包工作，因此项目的元数据都放在<em>setup.cfg</em>文件中。我们以<em>keystone</em>项目的setup.cfg文件为例来说明这个文件里一般会包含什么内容。以下是写这篇文章时最新的keystone项目的setup.cfg文件的内容（以<strong>#</strong>开头的是我加的注释）：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[metadata]  # 元数据段
name = keystone  # 软件包名称
version = 8.0.0  # 软件包版本号，还可以指定preversoining, postversioning等值，具体的作用看pbr的文档。
summary = OpenStack Identity  # 简介
description-file =  # 指定README文件
    README.rst
author = OpenStack  # 作者
author-email = openstack-dev@lists.openstack.org  # 作者邮件
home-page = http://www.openstack.org/  # 主页
classifier =  # 包的分类，下面具体说
    Environment :: OpenStack
    Intended Audience :: Information Technology
    Intended Audience :: System Administrators
    License :: OSI Approved :: Apache Software License
    Operating System :: POSIX :: Linux
    Programming Language :: Python
    Programming Language :: Python :: 2
    Programming Language :: Python :: 2.7

[files]  # 文件段
packages =  # 包名称
    keystone

[global]  # 全局段
setup-hooks =  # 指定安装hook
    pbr.hooks.setup_hook


[egg_info]  # 指定egg信息
tag_build =
tag_date = 0
tag_svn_revision = 0

[build_sphinx]  # 文档build相关信息
all_files = 1
build-dir = doc/build
source-dir = doc/source

[compile_catalog]
directory = keystone/locale
domain = keystone

[update_catalog]
domain = keystone
output_dir = keystone/locale
input_file = keystone/locale/keystone.pot

[extract_messages]
keywords = _ gettext ngettext l_ lazy_gettext
mapping_file = babel.cfg
output_file = keystone/locale/keystone.pot
copyright_holder = OpenStack Foundation
msgid_bugs_address = https://bugs.launchpad.net/keystone

# NOTE(dstanek): Uncomment the [pbr] section below and remove the ext.apidoc
# Sphinx extension when https://launchpad.net/bugs/1260495 is fixed.
[pbr]  # pbr本身的配置
warnerrors = True
autodoc_tree_index_modules = True

[entry_points]  # 指定入口点
console_scripts =  # 指定要生成的可执行文件
    keystone-all = keystone.cmd.all:main
    keystone-manage = keystone.cmd.manage:main

# 下面是其他entry_points内容，主要用于指定不同功能的扩展，和打包无关。
...
</code></pre>
</div>

<p><em>(上面有些未注释的部分我目前还不太清楚，后续补充，可以先参考<a href="https://www.python.org/dev/peps/pep-0301/">PEP301</a>)</em></p>

<p>这里说说一下<strong>classifier</strong>这个参数。这个参数是用来指定一个软件包的分类、许可证、允许运行的操作系统、允许运行的Python的版本的信息。这些信息是在一个叫trove的项目。关于Python和trove的关系，请参考<a href="http://stackoverflow.com/questions/9094220/trove-classifiers-definition">http://stackoverflow.com/questions/9094220/trove-classifiers-definition</a>。</p>

<p>你可以在PyPI上找到完整的classifier值列表，地址是：<a href="https://pypi.python.org/pypi?:action=list_classifiers">https://pypi.python.org/pypi?%3Aaction=list_classifiers</a>。另外，你也可以通过setuptools的命令来获取这个列表，在项目根目录下执行：<code class="highlighter-rouge">python setup.py register --list-classifiers</code>。</p>

<h4 id="requirementstxt">requirements.txt</h4>

<p>这个文件指定了一个项目依赖的包有哪些，并且支出了依赖的包的版本需求，可以看看keystone项目的requirements.txt：</p>

<div class="highlighter-rouge"><pre class="highlight"><code># The order of packages is significant, because pip processes them in the order
# of appearance. Changing the order has an impact on the overall integration
# process, which may cause wedges in the gate later.

pbr&lt;2.0,&gt;=0.11
WebOb&gt;=1.2.3
eventlet&gt;=0.17.4
greenlet&gt;=0.3.2
PasteDeploy&gt;=1.5.0
Paste
Routes!=2.0,&gt;=1.12.3
cryptography&gt;=0.8.2 # Apache-2.0
six&gt;=1.9.0
SQLAlchemy&lt;1.1.0,&gt;=0.9.7
sqlalchemy-migrate&gt;=0.9.6
stevedore&gt;=1.5.0 # Apache-2.0
passlib
python-keystoneclient&gt;=1.6.0
keystonemiddleware&gt;=1.5.0
oslo.concurrency&gt;=2.1.0 # Apache-2.0
oslo.config&gt;=1.11.0 # Apache-2.0
oslo.messaging!=1.12.0,&gt;=1.8.0 # Apache-2.0
oslo.db&gt;=1.10.0 # Apache-2.0
oslo.i18n&gt;=1.5.0 # Apache-2.0
oslo.log&gt;=1.2.0 # Apache-2.0
oslo.middleware!=2.0.0,&gt;=1.2.0 # Apache-2.0
oslo.policy&gt;=0.5.0 # Apache-2.0
oslo.serialization&gt;=1.4.0 # Apache-2.0
oslo.service&gt;=0.1.0 # Apache-2.0
oslo.utils&gt;=1.6.0 # Apache-2.0
oauthlib&gt;=0.6
pysaml2&gt;=2.4.0
dogpile.cache&gt;=0.5.3
jsonschema!=2.5.0,&lt;3.0.0,&gt;=2.0.0
pycadf&gt;=0.8.0
msgpack-python&gt;=0.4.0
</code></pre>
</div>

<h2 id="软件包归档格式">软件包归档格式</h2>

<p>Python的软件包一开始是没有官方的标准分发格式的。比如Java有jar包或者war包作为分发格式，Python则什么都没有。后来不同的工具都开始引入一些比较通用的归档格式。比如，setuptools引入了Egg格式。但是，这些都不是官方支持的，存在元数据和包结构彼此不兼容的问题。因此，为了解决这个问题，<strong>PEP 427</strong>定义了新的分发包标准，名为<strong>Wheel</strong>。目前pip和setuptools工具都支持Wheel格式。这里我们简单总结一下常用的分发格式：</p>

<ul>
  <li><strong>tar.gz</strong>格式：这个就是标准压缩格式，里面包含了项目元数据和代码，可以使用<code class="highlighter-rouge">python setup.py sdist</code>命令生成。</li>
  <li><strong>.egg</strong>格式：这个本质上也是一个压缩文件，只是扩展名换了，里面也包含了项目元数据以及源代码。这个格式由setuptools项目引入。可以通过命令<code class="highlighter-rouge">python setup.py bdist_egg</code>命令生成。</li>
  <li><strong>.whl</strong>格式：这个是Wheel包，也是一个压缩文件，只是扩展名换了，里面也包含了项目元数据和代码，还支持免安装直接运行。whl分发包内的元数据和egg包是有些不同的。这个格式是由PEP 427引入的。可以通过命令<code class="highlighter-rouge">python setup.py bdist_wheel</code>生成。</li>
</ul>

<h3 id="egg-info和dist-info目录">.egg-info和.dist-info目录</h3>

<p>如果你到系统中安装Python库的路径下看看，就能看到很多名称以<em>.egg-info</em>或者以<em>.dist-info</em>结尾的目录。这些目录的内容就是这个库的元数据，是从库的分发包中拷贝出来的。其中<em>.egg-info</em>类型的目录来自于Egg格式的分发包，<em>.dist-info</em>类型的目录来自于Wheel格式的分发包。</p>

<h2 id="软件包的安装">软件包的安装</h2>

<h3 id="安装工具">安装工具</h3>

<p>上面已经提到了，setuptools项目提供了一个软件包安装工具<em>*esay_install</em>。easy_install支持从软件归档文件中或者从PyPI上安装软件包，不过这个工具并不好用，比如缺少卸载功能等，因此并不流行，现在更多的都是使用pip工具。</p>

<p><strong>pip</strong>项目提供了很好的软件包安装方式，并且已经被包含到Python 3.4中，可以从PyPI、tarball或者Wheel归档中安装和卸载软件按包。关于pip常见的用法，这里就不赘述了(<em>pip install, pip uninstall, pip search, …</em>)。</p>

<h3 id="安装路径">安装路径</h3>

<p>软件包的安装路径依赖于操作系统、Python版本和安装方式。</p>

<ul>
  <li>在Debian系的系统上（比如Ubuntu）
    <ul>
      <li>使用<code class="highlighter-rouge">apt-get install</code>从系统软件源安装
        <ul>
          <li>Python 2.7: /usr/lib/python2.7/dist-packages</li>
          <li>Python 3.4: /usr/lib/python3.4/dist-packages</li>
        </ul>
      </li>
      <li>使用<code class="highlighter-rouge">pip install</code>命令安装
        <ul>
          <li>Python 2.7: /usr/local/lib/python2.7/dist-packages</li>
          <li>Python 3.4: /usr/local/lib/python3.4/dist-packages</li>
        </ul>
      </li>
      <li>在virtualenv中使用<code class="highlighter-rouge">pip install</code>安装
        <ul>
          <li>Python 2.7: lib/python2.7/site-packages</li>
          <li>Python 3.4: lib/python3.4/site-packages</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>在CentOS系的系统上
    <ul>
      <li>使用<code class="highlighter-rouge">yum install</code>命令安装
        <ul>
          <li>Python 2.7: /usr/lib/python2.7/site-packages</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="以开发模式安装">以开发模式安装</h3>

<p>pip的安装命令可以使用<strong>-e</strong>选项，用来从本地代码目录或者版本库URL来安装一个开发版本的库。采用这种方式的时候，在安装目录下只会创建一个包含软件包信息的文件，真正的代码不会安装到系统目录下。</p>

<h1 id="webdemo的打包管理">webdemo的打包管理</h1>

<p>学习过包管理相关的知识后，我们就要以OpenStack的方法来创建一个我们自己的项目。这个项目的名称是<strong>webdemo</strong>，就是一个简单的web服务器。这个项目会贯穿这个系列文章。在本文中，我们首先要创建webdemo的项目框架并添加软件包管理相关的内容。</p>

<h2 id="项目目录结构">项目目录结构</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>➜ ~/programming/python/webdemo git:(master) ✗ $ tree .
.
├── LICENSE
├── README.md
├── requirement.txt
├── setup.cfg
├── setup.py
└── webdemo
    └── __init__.py

1 directory, 6 files
</code></pre>
</div>

<p>这个是一个最简单的Python项目目录：</p>

<ul>
  <li>源代码放在子目录<em>webdemo/</em>下</li>
  <li>然后包含了软件包管理的所需的文件：setup.py, setup.cfg, requirements.txt</li>
  <li>LICENSE和README</li>
</ul>

<h3 id="软件包管理相关">软件包管理相关</h3>

<p>首先是setup.py，就是这么简单：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">setuptools</span>


<span class="c"># In python &lt; 2.7.4, a lazy loading of package `pbr` will break</span>
<span class="c"># setuptools if some other modules registered functions in `atexit`.</span>
<span class="c"># solution from: http://bugs.python.org/issue15881#msg170215</span>
<span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">multiprocessing</span>  <span class="c"># noqa</span>
<span class="k">except</span> <span class="nb">ImportError</span><span class="p">:</span>
        <span class="k">pass</span>


<span class="n">setuptools</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span>
    <span class="n">setup_requires</span><span class="o">=</span><span class="p">[</span><span class="s">'pbr'</span><span class="p">],</span> <span class="n">pbr</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
</div>

<p>然后是setup.cfg：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[metadata]
name = webdemo
version = 0.0.1
summary = Web Application Demo
description-file = README.md
author = author
author-email = author@example.com
classifier =
    Environment :: Web Environment
    Intended Audience :: Developers
    Intended Audience :: Education
    License :: OSI Approved :: GNU General Public License v2 (GPLv2)
    Operating System :: POSIX :: Linux
    Programming Language :: Python
    Programming Language :: Python :: 2
    Programming Language :: Python :: 2.7

[global]
setup-hooks =
    pbr.hooks.setup_hook

[files]
packages =
    webdemo

[entry_points]
console_scripts =
</code></pre>
</div>

<p>只包含最基本的信息。接下来是requirements.txt文件：</p>

<div class="highlighter-rouge"><pre class="highlight"><code># The order of packages is significant, because pip processes them in the order
# of appearance. Changing the order has an impact on the overall integration
# process, which may cause wedges in the gate later.

pbr&lt;2.0,&gt;=0.11
</code></pre>
</div>

<p>目前只依赖于pbr库。源代码目录下现在只有一个空的<strong>__init__.py</strong>文件。我们已经搭建好了这个最简单的项目框架了。首先，我们要把这些代码提交到git库，然后打上tag <em>0.0.1</em>：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>➜ ~/programming/python/webdemo git:(master) ✗ $ git log --oneline
697427c Add packaging information
2cbbf4d Initial commit
➜ ~/programming/python/webdemo git:(master) ✗ $ git tag -a -s 0.0.1
➜ ~/programming/python/webdemo git:(master) ✗ $ git tag
0.0.1
</code></pre>
</div>

<p>然后就可以使用<code class="highlighter-rouge">python setup.py sdist</code>命令来生成一个0.0.1版本的源码归档了：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>➜ ~/programming/python/webdemo git:(master) ✗ $ python setup.py sdist
running sdist
[pbr] Writing ChangeLog
[pbr] Generating ChangeLog
[pbr] Generating AUTHORS
running egg_info
writing pbr to webdemo.egg-info/pbr.json
writing webdemo.egg-info/PKG-INFO
writing top-level names to webdemo.egg-info/top_level.txt
writing dependency_links to webdemo.egg-info/dependency_links.txt
writing entry points to webdemo.egg-info/entry_points.txt
[pbr] Processing SOURCES.txt
[pbr] In git context, generating filelist from git
warning: no previously-included files found matching '.gitreview'
warning: no previously-included files matching '*.pyc' found anywhere in distribution
writing manifest file 'webdemo.egg-info/SOURCES.txt'
warning: sdist: standard file not found: should have one of README, README.rst, README.txt

running check
warning: check: missing required meta-data: url

creating webdemo-0.0.1
creating webdemo-0.0.1/webdemo
creating webdemo-0.0.1/webdemo.egg-info
making hard links in webdemo-0.0.1...
hard linking AUTHORS -&gt; webdemo-0.0.1
hard linking ChangeLog -&gt; webdemo-0.0.1
hard linking LICENSE -&gt; webdemo-0.0.1
hard linking README.md -&gt; webdemo-0.0.1
hard linking requirement.txt -&gt; webdemo-0.0.1
hard linking setup.cfg -&gt; webdemo-0.0.1
hard linking setup.py -&gt; webdemo-0.0.1
hard linking webdemo/__init__.py -&gt; webdemo-0.0.1/webdemo
hard linking webdemo.egg-info/PKG-INFO -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/SOURCES.txt -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/dependency_links.txt -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/entry_points.txt -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/not-zip-safe -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/pbr.json -&gt; webdemo-0.0.1/webdemo.egg-info
hard linking webdemo.egg-info/top_level.txt -&gt; webdemo-0.0.1/webdemo.egg-info
copying setup.cfg -&gt; webdemo-0.0.1
Writing webdemo-0.0.1/setup.cfg
Creating tar archive
removing 'webdemo-0.0.1' (and everything under it)
➜ ~/programming/python/webdemo git:(master) ✗ $ ls dist
webdemo-0.0.1.tar.gz
➜ ~/programming/python/webdemo git:(master) ✗ $ ls
AUTHORS  ChangeLog  dist  LICENSE  README.md  requirement.txt  setup.cfg  setup.py  webdemo  webdemo.egg-info
</code></pre>
</div>

<p>验证成功，在<em>dist/</em>目录下生成了一个0.0.1版本的源码归档，同时生成了如下的文件和目录：<em>AUTHORS, ChangeLog, webdemo.egg-info</em>。</p>


    <br />
    <div>
      <!-- aThis Button BEGIN -->
      <div class="jiathis_style_32x32">
        <a class="jiathis_button_tsina"></a>
        <a class="jiathis_button_twitter"></a>
        <a class="jiathis_button_googleplus"></a>
        <a class="jiathis_button_weixin"></a>
        <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
      </div>
      <script type="text/javascript" >
var jiathis_config={
  sm:"tsina,weixin,twitter,googleplus",
  summary:"",
  shortUrl:false,
  hideMore:true
}
      </script>
      <script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js" charset="utf-8"></script>
      <!-- JiaThis Button END -->
    </div>
    <div>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。
    </div>
  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Coffee, Coke and Code</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Coffee, Coke and Code</li>
          <li><a href="mailto:diabloneo@gmail.com">diabloneo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/diabloneo"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">diabloneo</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/diabloneo"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">diabloneo</span></a>

          </li>
          

          
          <li>
            <a href="https://weibo.com/diabloneo"><span class="icon icon--weibo"><?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1506693756610" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1461" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M36.795021 82.536808 36.795021 82.536808 36.795021 82.536808Z" p-id="1462"></path><path d="M704.237279 523.521404c-9.210779-1.846044-15.190981-4.604878-17.941628-8.278547-2.749624-3.672646-3.210112-7.05058-1.384533-10.133801l2.769067-4.595668c0.607844-0.608867 1.226944-1.530866 1.855254-2.769067 0.62831-1.237177 1.855254-3.848655 3.682879-7.835456 1.826602-3.987824 3.211135-7.973602 4.1536-11.961426 0.942465-3.986801 1.708921-8.895601 2.297322-14.728446 0.589424-5.832845 0.431835-11.361769-0.470721-16.58677-0.903579-5.225001-2.749624-10.900258-5.539156-17.027815-2.790556-6.127558-6.628978-11.656481-11.519358-16.585747-8.601912-8.601912-19.806091-14.129812-33.613562-16.585747-13.807471-2.454912-27.613918-2.611477-41.421388-0.470721-13.806447 2.142803-26.847461 4.901637-39.122019 8.278547-12.274558 3.377934-22.398126 6.598278-30.372751 9.664104l-11.960403 5.538133c-6.147 1.846044-11.213389 3.074012-15.201214 3.682879-3.987824 0.60989-7.060813 0.453325-9.219989-0.470721-2.160199-0.923022-3.848655-1.846044-5.068436-2.768043-1.218758-0.923022-1.680269-3.072989-1.384533-6.451946 0.296759-3.377934 0.599657-6.294356 0.912789-8.749268 0.313132-2.452865 1.078565-6.293333 2.297322-11.519358 1.217734-5.226025 2.14178-9.369392 2.768043-12.432147 0-7.364735-0.461511-14.267958-1.384533-20.709671-0.923022-6.441713-2.916423-13.649881-5.981225-21.623483-3.063779-7.973602-7.512091-14.415314-13.345959-19.326161-5.833869-4.910846-13.198603-8.896624-22.095227-11.960403-8.896624-3.063779-20.406772-3.986801-34.527374-2.769067-14.121626 1.218758-30.079062 4.900613-47.873334 11.04659-21.485337 7.364735-43.275619 18.254759-65.369823 32.67212-22.094204 14.415314-41.273009 29.449729-57.534368 45.101197-16.261359 15.652492-31.149441 30.843472-44.661176 45.573965-13.511735 14.731516-23.950482 26.701129-31.315216 35.912931l-10.133801 14.728446c-20.249183 26.397207-35.282574 52.79339-45.102221 79.187527-9.819646 26.396183-14.424524 46.340421-13.81668 59.83476l0 19.326161c3.693112 29.458939 12.746302 55.855122 27.161616 79.187527 14.415314 23.331381 31.599695 42.205241 51.55519 56.620555 19.955494 14.415314 43.434232 26.689872 70.437236 36.82572 27.004027 10.133801 52.937676 17.498536 77.804017 22.095227 24.864294 4.595668 51.103912 7.816013 78.716806 9.664104 45.426609 3.692089 92.533486 0.166799 141.317563-10.57587 48.786123-10.744715 94.202499-29.313629 136.25322-55.708789 42.049698-26.396183 71.666226-58.006112 88.849584-94.830809 10.429537-21.48636 15.800871-41.74373 16.116049-60.776202 0.315178-19.031449-2.907213-34.527374-9.664104-46.486754-6.756891-11.960403-15.507182-22.546505-26.248827-31.758308-10.741645-9.211802-20.866237-15.968693-30.372751-20.268626-9.506515-4.299933-17.941628-7.059789-25.305339-8.278547L704.237279 523.521404 704.237279 523.521404zM423.455361 809.841455c-66.284659 3.064802-122.592083-9.829879-168.924317-38.680974-46.330188-28.851095-69.495794-65.370847-69.494771-109.561301 0-43.579541 23.01825-81.170694 69.053726-112.772436 46.036499-31.600719 102.500489-48.942689 169.394015-52.02591 66.893526-3.082198 123.358539 7.964392 169.392992 33.141818 46.036499 25.177426 69.053726 59.546188 69.053726 103.108333 0 44.190455-23.478737 83.931574-70.438259 119.224382-46.958498 35.291784-102.962 54.470589-168.009482 57.533344L423.455361 809.841455 423.455361 809.841455zM396.765489 554.806945c-17.793248 1.846044-33.750685 5.990434-47.873334 12.432147-14.121626 6.442736-25.168216 13.807471-33.140795 22.095227-7.972579 8.28878-14.728446 17.185404-20.268626 26.689872-5.539156 9.505491-9.378601 18.86465-11.519358 28.075429-2.140757 9.210779-3.524267 17.646915-4.1536 25.306362-0.630357 7.659447-0.933255 13.638625-0.913812 17.940604l0.913812 7.365758 0 3.682879c0 1.846044 0.618077 5.5279 1.855254 11.04659 1.237177 5.519714 2.925632 10.587126 5.067412 15.202237 2.14178 4.615111 5.66707 9.682523 10.57587 15.201214 4.909823 5.51869 10.743692 10.124592 17.499559 13.81668 40.517809 19.639293 78.264505 25.619494 113.243157 17.940604 34.977629-7.67889 63.209624-25.324782 84.695984-52.937676 8.601912-10.428513 14.278191-23.322172 17.028838-38.680974s2.131547-30.853705-1.855254-46.486754c-3.987824-15.634072-10.891048-29.90203-20.709671-42.805922-9.818623-12.902868-24.39255-22.880103-43.719734-29.930683-19.326161-7.05058-41.577954-9.045003-66.756403-5.981225L396.765489 554.806945 396.765489 554.806945zM363.621625 728.827327c-3.692089 0.607844-7.217379 0.765433-10.57587 0.470721-3.358491-0.293689-6.431479-0.913812-9.219989-1.855254-2.789533-0.941442-5.548366-2.01182-8.278547-3.210112-2.729158-1.197268-5.027503-2.885723-6.892991-5.067412-1.864464-2.180666-3.553942-4.331655-5.067412-6.451946-1.51347-2.12029-2.741437-4.576225-3.682879-7.364735-0.942465-2.790556-1.403976-5.705955-1.384533-8.749268 0-6.756891 1.846044-13.355169 5.538133-19.796882 3.692089-6.441713 8.759501-11.970636 15.201214-16.58677 6.441713-4.615111 13.649881-7.227612 21.624507-7.836479 5.51869-0.607844 10.890025-0.451278 16.115026 0.471744 5.225001 0.921999 9.673313 2.453888 13.345959 4.595668 3.672646 2.14178 6.894014 4.596691 9.664104 7.365758 2.77009 2.768043 4.76349 5.989411 5.981225 9.66308 1.216711 3.674693 1.835811 7.661494 1.855254 11.961426 0 6.755868-1.9934 13.19758-5.981225 19.325138-3.986801 6.128581-9.358135 11.343349-16.115026 15.643282-6.756891 4.299933-14.121626 6.755868-22.095227 7.365758L363.621625 728.827327 363.621625 728.827327zM441.86771 662.542668c-4.300956 3.063779-8.750291 4.448312-13.346983 4.1536-4.595668-0.294712-7.816013-2.288113-9.66308-5.981225l-1.856277-3.682879c-0.607844-1.237177-0.912789-2.465145-0.912789-3.682879l0-3.682879c0-1.846044 0.304945-3.377934 0.912789-4.596691l1.856277-3.682879c0.607844-1.237177 1.530866-2.160199 2.768043-2.768043l2.768043-3.682879c4.910846-3.693112 9.664104-5.225001 14.258749-4.596691 4.595668 0.629333 7.816013 3.084245 9.664104 7.365758 1.845021 2.454912 2.610454 5.214768 2.296299 8.278547-0.314155 3.063779-1.237177 5.980201-2.768043 8.749268-1.531889 2.769067-3.52529 5.380544-5.981225 7.835456L441.86771 662.542668 441.86771 662.542668zM768.695337 470.110961c3.692089 0 7.071046-0.923022 10.133801-2.769067 3.063779-1.845021 5.51869-4.143367 7.364735-6.891967 1.847068-2.750647 3.075035-5.66707 3.682879-8.749268 0.608867-0.608867 0.913812-1.531889 0.913812-2.769067 7.363711-69.976748-17.186428-109.874433-73.650417-119.695103-16.576537-3.063779-31.925107-3.367701-46.045709-0.912789-4.300956 0-7.983835 1.070378-11.04659 3.210112-3.063779 2.140757-5.676279 4.898567-7.836479 8.278547-2.160199 3.377934-3.230578 6.904247-3.210112 10.57587 0 6.147 2.15099 11.360745 6.451946 15.642259 4.300956 4.281513 9.515724 6.432503 15.643282 6.451946 47.88152-11.056823 73.658603 4.290723 77.331249 46.045709 1.237177 10.428513 0.618077 20.24816-1.855254 29.458939 0 6.148024 2.15099 11.361769 6.451946 15.643282 4.299933 4.281513 9.515724 6.432503 15.642259 6.451946L768.695337 470.110961 768.695337 470.110961zM753.052055 210.510458c-27.005051-6.147-63.22088-4.919033-108.648512 3.683902-0.607844 0-1.226944 0.303922-1.855254 0.912789l-0.912789 1.855254-0.912789 0.912789c-6.755868 1.846044-12.284791 5.685489-16.585747 11.519358-4.300956 5.833869-6.450922 12.128225-6.450922 18.883069 0 9.210779 3.072989 16.880459 9.219989 23.008017 6.147 6.128581 13.511735 9.201569 22.095227 9.219989l2.768043 0c0.608867 0 1.9934-0.303922 4.154623-0.912789 2.160199-0.607844 4.457522-1.070378 6.891967-1.384533 2.435469-0.314155 5.046946-0.932232 7.836479-1.855254 2.788509-0.923022 5.244444-1.846044 7.365758-2.769067 2.12029-0.921999 6.264681-1.384533 12.432147-1.384533 6.167466 0 13.688767 0.462534 22.565948 1.384533 8.877181 0.923022 18.697851 3.221368 29.459962 6.892991 10.763135 3.672646 21.505803 8.278547 32.229029 13.81668 10.723226 5.53711 21.465894 13.20679 32.229029 23.008017 10.763135 9.800203 20.122293 21.152762 28.075429 34.054607 15.96767 36.21583 19.041682 71.204715 9.219989 104.965633 0 0.608867-0.156566 1.227967-0.470721 1.856277-0.314155 0.62831-0.774643 2.160199-1.38351 4.595668-0.608867 2.435469-1.227967 4.732791-1.855254 6.892991-0.629333 2.160199-1.24741 4.919033-1.856277 8.278547-0.608867 3.358491-0.912789 6.274914-0.912789 8.749268 0 5.51869 1.531889 10.123568 4.596691 13.815657 3.063779 3.692089 6.904247 6.304589 11.519358 7.836479 4.615111 1.531889 9.987468 2.297322 16.115026 2.296299 17.185404 0 27.309996-10.438747 30.372751-31.31624 7.364735-23.940249 11.509125-46.801932 12.432147-68.581981 0.924045-21.782096-0.607844-40.958854-4.595668-57.534368-3.987824-16.575514-9.968026-32.072463-17.941628-46.487777-7.972579-14.415314-17.184381-26.690896-27.633361-36.823674-10.447956-10.133801-22.11467-19.34458-34.998095-27.633361-12.883425-8.287757-25.315572-14.887059-37.296441-19.796882-11.979846-4.909823-24.411993-8.896624-37.295418-11.960403L753.052055 210.508411 753.052055 210.510458z" p-id="1463"></path></svg></span><span class="username">diabloneo</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Archive diabloneo's articles.
</p>
      </div>
    </div>

  </div>

</footer>

    
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78067453-1', 'auto');
  ga('send', 'pageview');

</script>

    
  </body>

</html>
